/*
  Northerns Inc modern layer (child theme)

  Scoped with body.nsi-modern so you can flip back to Catch Flames
  without side effects.
*/

body.nsi-modern {
  --nsi-bg: #0b1f1b;
  --nsi-paper: #fbfaf6;
  --nsi-ink: #10211c;
  --nsi-ink-soft: rgba(16, 33, 28, 0.72);
  --nsi-border: rgba(16, 33, 28, 0.12);
  --nsi-shadow: 0 18px 50px rgba(0, 0, 0, 0.18);

  --nsi-pine: #0f3a32;
  --nsi-water: #0b6670;
  --nsi-brass: #c38b2e;

  --nsi-radius: 16px;
  --nsi-radius-sm: 12px;

  color: var(--nsi-ink);
  font-family: Manrope, system-ui, -apple-system, "Segoe UI", sans-serif;
  letter-spacing: -0.01em;
}

body.nsi-modern.custom-background {
  background-color: #0b1f1b !important;
  background-blend-mode: multiply;
}

@media (max-width: 900px) {
  body.nsi-modern.custom-background {
    background-attachment: scroll !important;
  }
}

body.nsi-modern.custom-background:before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(195, 139, 46, 0.18), rgba(0, 0, 0, 0)),
    radial-gradient(1000px 700px at 85% 20%, rgba(11, 102, 112, 0.20), rgba(0, 0, 0, 0)),
    linear-gradient(180deg, rgba(11, 31, 27, 0.72), rgba(11, 31, 27, 0.35) 35%, rgba(11, 31, 27, 0.78));
  z-index: 0;
}

body.nsi-modern #page {
  position: relative;
  z-index: 1;
}

body.nsi-modern .wrapper {
  width: min(1120px, calc(100% - 40px));
}

@media (max-width: 520px) {
  body.nsi-modern .wrapper {
    width: min(1120px, calc(100% - 28px));
  }
}

/* Header + title */
body.nsi-modern #branding {
  background: transparent;
}

body.nsi-modern #header-content {
  padding: 22px 0 10px;
}

body.nsi-modern #logo-wrap {
  display: flex;
  align-items: center;
  gap: 14px;
}

/* Re-show title if custom header setting hides it. */
body.nsi-modern #site-details {
  position: static !important;
  clip: auto !important;
  width: auto !important;
  height: auto !important;
  overflow: visible !important;
}

body.nsi-modern #site-title {
  font-family: Fraunces, Georgia, serif;
  font-size: 30px;
  line-height: 1.05;
  letter-spacing: -0.03em;
}

body.nsi-modern #site-title a {
  color: var(--nsi-paper);
  text-decoration: none;
}

body.nsi-modern #site-description {
  margin-top: 4px;
  color: rgba(251, 250, 246, 0.74);
  font-size: 13px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

/* Header menu: top-level only. */
body.nsi-modern #header-menu {
  background: rgba(251, 250, 246, 0.10);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255, 255, 255, 0.10);
  border-bottom: 1px solid rgba(0, 0, 0, 0.18);
}

body.nsi-modern #header-menu #access {
  background: transparent;
}

body.nsi-modern #header-menu ul.menu > li > a {
  color: rgba(251, 250, 246, 0.90);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 12px;
  font-weight: 700;
  line-height: 3.8em;
  padding: 0 16px;
}

body.nsi-modern #header-menu ul.menu > li:hover > a,
body.nsi-modern #header-menu ul.menu > li > a:focus {
  background: rgba(251, 250, 246, 0.14);
  color: #fff;
}

/* Dropdown menus */
body.nsi-modern #header-menu ul.menu ul {
  background: rgba(251, 250, 246, 0.98);
  border: 1px solid rgba(16, 33, 28, 0.16);
  border-radius: 14px;
  padding: 8px;
  margin-top: 10px;
  box-shadow: 0 18px 50px rgba(0, 0, 0, 0.22);
}

body.nsi-modern #header-menu ul.menu ul a {
  background: transparent;
  border: none;
  color: rgba(16, 33, 28, 0.92);
  font-size: 12px;
  font-weight: 750;
  letter-spacing: 0.02em;
  line-height: 1.3;
  padding: 10px 12px;
}

body.nsi-modern #header-menu ul.menu ul li a:hover,
body.nsi-modern #header-menu ul.menu ul li a:focus {
  background: rgba(11, 102, 112, 0.10);
  color: rgba(11, 31, 27, 0.98);
  text-decoration: none;
}

/* Main content shell */
body.nsi-modern #main {
  background: transparent;
  padding-top: 28px;
}

body.nsi-modern .hentry,
body.nsi-modern .widget,
body.nsi-modern .no-results,
body.nsi-modern #comments {
  background: rgba(251, 250, 246, 0.92);
  border: 1px solid var(--nsi-border);
  border-radius: var(--nsi-radius);
  box-shadow: var(--nsi-shadow);
}

body.nsi-modern .entry-title {
  font-family: Fraunces, Georgia, serif;
  font-size: 34px;
  line-height: 1.12;
  letter-spacing: -0.03em;
}

body.nsi-modern .entry-title a {
  color: var(--nsi-ink);
}

body.nsi-modern .entry-content p,
body.nsi-modern .entry-summary p {
  color: var(--nsi-ink-soft);
  font-size: 17px;
  line-height: 1.75;
}

/* Gutenberg buttons */
body.nsi-modern .wp-block-button__link {
  background: linear-gradient(135deg, var(--nsi-water), var(--nsi-pine));
  color: #fff;
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 999px;
  box-shadow: 0 12px 30px rgba(11, 102, 112, 0.28);
  font-weight: 800;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-size: 12px;
  padding: 14px 18px;
}

body.nsi-modern .wp-block-columns {
  gap: 18px;
}

body.nsi-modern .wp-block-column {
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(16, 33, 28, 0.10);
  border-radius: var(--nsi-radius-sm);
  padding: 18px 18px 8px;
}

/* Prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  body.nsi-modern * {
    transition: none !important;
    animation: none !important;
    scroll-behavior: auto !important;
  }
}
